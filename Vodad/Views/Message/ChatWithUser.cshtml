@model Vodad.Models.SendMessageModel

@{
    ViewBag.Title = "Private Messages";
}

<h2>Private messages</h2>

    @{
        Html.RenderAction("MessageSummary", "Message", new { companionId = ViewBag.RecieverId });
    }


@using (Ajax.BeginForm("ChatWithUser", new { companionId = ViewBag.RecieverId }, new AjaxOptions { UpdateTargetId = "chat-messages" }))
{
    @Html.ValidationSummary()

    <fieldset>
        <legend>Send message form</legend>

        <ol>
            <li>
                @Html.HiddenFor(m => m.ToUserId, new { @Value = ViewBag.RecieverId })
            </li>
            <li>
                @Html.LabelFor(m => m.MessageText)<br />
                @Html.TextAreaFor(m => m.MessageText, new { @class = "new-message-textarea" })
            </li>
        </ol>

        <input type="submit" value="Send message" />(Ctrl+Enter)
    </fieldset>
}